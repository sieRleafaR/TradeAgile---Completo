<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cadastro</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'trade/css/cadastroUser.css'%}">
    <script>
        window.onload = function() {
            {% if messages %}
                setTimeout(function() {
                    location.reload();
                }, 4000);
            {% endif %}
        };
        function goBack() {
            var fromPage = localStorage.getItem('fromPage');
            if (fromPage === 'login') {
                window.location.href = '/login';
            } else if (fromPage === 'home') {
                window.location.href = '/home';
            } else {
                window.history.back();
            }
        }
    </script>
</head>
<body>
    <div class="containerP">
        <div id="topo">
           <h1>Cadastro de Usuário</h1>
        </div>
        <div id="caixa">
            <form method="post">
                {% csrf_token %}
                {% for field in form %}
                    {{ field.label_tag }} {{ field }}<br>
                    {% if field.errors %}
                    <div class="contError">
                            <div class="errors">
                                {{ field.errors }}
                            </div>
                    </div>
                        {% endif %}
                {% endfor %}

                <button type="submit">Cadastrar</button>
            </form>
        </div>
    </div>
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="contMsg">
                    <h1>{{ message }}</h1>
                    <h3>Agora o usuário cadastrado pode navegar pelo hud da Trade.Agile a vontadem, basta realizar login.</h3>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    <footer class="peGrande">
        <div class="redes">
            <img src="{% static 'trade/img/XLogo.png' %}">
            <img src="{% static 'trade/img/instagramLogo.png' %}">
            <img src="{% static 'trade/img/facebookLogo.png' %}">
        </div>
        <div class="nosPe">Trade.Agile<br>Prime</div>
    </footer>
    <button class="button" onclick="goBack(); return false;">
      <div class="button-box">
        <span class="button-elem">
          <svg viewBox="0 0 46 40" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"
            ></path>
          </svg>
        </span>
        <span class="button-elem">
          <svg viewBox="0 0 46 40">
            <path
              d="M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"
            ></path>
          </svg>
        </span>
      </div>
    </button>
</body>
</html>
